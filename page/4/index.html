<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="多去尝试你从未尝试的。">
<meta property="og:type" content="website">
<meta property="og:title" content="雪晟">
<meta property="og:url" content="liuxinixn.github.io/page/4/index.html">
<meta property="og:site_name" content="雪晟">
<meta property="og:description" content="多去尝试你从未尝试的。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="雪晟">
<meta name="twitter:description" content="多去尝试你从未尝试的。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="liuxinixn.github.io/page/4/"/>





  <title>雪晟</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">雪晟</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">十年饮冰，难凉热血。我是雪晟。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/ios--使用TZImagePickerController上传图片处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/ios--使用TZImagePickerController上传图片处理/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在使用<code>TZImagePickerController</code> 进行上传图片时，需要自己处理然后上传给服务器。</p>
<p>太大的图片动辄好几兆的图片上传图片时很慢的。<br>所以我们需要对图片进行适当处理。如果可以指定压缩到指定的尺寸，我们使用<code>CoreGraphics</code>的方法重新绘制一个<code>2X</code>的图片即可，这样既满足了显示清晰度，同时也减小了图片的内存。如果不能指定尺寸，我们需要转data，<code>NSData *data = UIImageJPEGRepresentation(image, 0.5);</code> 这种方法会压缩图片内存，但是像素不会减少，改变的只是图片质量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">TZImagePickerController *pickerController = [[TZImagePickerController alloc]initWithMaxImagesCount:3 delegate:self];</div><div class="line"></div><div class="line">   NCWS(weakSelf);</div><div class="line">   </div><div class="line">   [pickerController setDidFinishPickingPhotosHandle:^(NSArray&lt;UIImage *&gt; *photo, NSArray *assets, BOOL isSelectOriginalPhoto)&#123;</div><div class="line">       </div><div class="line">       </div><div class="line">       if (photo.count) &#123;</div><div class="line">           </div><div class="line">           NSMutableArray *array = [NSMutableArray array];</div><div class="line">           for (__strong UIImage *image in photo) &#123;</div><div class="line">               image =[image scaleToSize:image.size];</div><div class="line">               NSData *data = UIImageJPEGRepresentation(image, 0.5);</div><div class="line">               image =[UIImage imageWithData:data];</div><div class="line">               [array addObject:image];</div><div class="line">               </div><div class="line">           &#125;</div><div class="line">           weakSelf.feedbackView.addImageA = array;</div><div class="line">       &#125;</div><div class="line">   &#125;];</div><div class="line">    [self presentViewController:pickerController animated:YES completion:nil];</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/iOS-关乎绘制圆弧的一个细节/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/iOS-关乎绘制圆弧的一个细节/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://upload-images.jianshu.io/upload_images/1694376-09b88e5516654b64.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">#import &quot;LXBezierPathView.h&quot;</div><div class="line">@interface LXBezierPathView()</div><div class="line">@property(nonatomic,strong)UILabel *lable;</div><div class="line">@end</div><div class="line">@implementation LXBezierPathView</div><div class="line"></div><div class="line">-(instancetype)initWithFrame:(CGRect)frame</div><div class="line">&#123;</div><div class="line">    self = [super initWithFrame:frame];</div><div class="line">    if (self) &#123;</div><div class="line">        </div><div class="line">        </div><div class="line">        self.lable =[[UILabel alloc]initWithFrame:CGRectMake(0, 0, 100, 100)];</div><div class="line">        self.lable.text = @&quot;哈哈哈&quot;;</div><div class="line">        self.lable.textAlignment = NSTextAlignmentCenter;</div><div class="line">        self.lable.center = CGPointMake((frame.size.width )/2, (frame.size.width)/2);</div><div class="line">        </div><div class="line">        [self addSubview:self.lable];</div><div class="line">    &#125;</div><div class="line">    return self;</div><div class="line">&#125;</div><div class="line">-(void)drawRect:(CGRect)rect&#123;</div><div class="line">    CAShapeLayer *shapeLayer =[[CAShapeLayer alloc]init];</div><div class="line">    </div><div class="line">    shapeLayer.frame = CGRectMake(0, 0, rect.size.width, rect.size.width);</div><div class="line">    shapeLayer.lineWidth = 10;</div><div class="line">    </div><div class="line">    shapeLayer.fillColor =[UIColor clearColor].CGColor;</div><div class="line">    shapeLayer.strokeColor =[UIColor redColor].CGColor;</div><div class="line">    </div><div class="line">    </div><div class="line">    CGPoint center =  CGPointMake((rect.size.width )/2, (rect.size.width)/2);</div><div class="line">   </div><div class="line">    UIBezierPath *bezierPath =[UIBezierPath bezierPathWithArcCenter:center radius:(rect.size.width )/2 startAngle:-0.5 *M_PI endAngle:0.5 *M_PI clockwise:YES];</div><div class="line">    shapeLayer.path = bezierPath.CGPath;</div><div class="line">    </div><div class="line">    [self.layer insertSublayer:shapeLayer above:shapeLayer];</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们绘制圆弧的时候，会设置贝塞尔曲线的半径为view的一半， 可是真正显示出来，会发现多了一点。这一点的长度刚好是线宽的一般。</p>
<p>所以需要处理的是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIBezierPath *bezierPath =[UIBezierPath bezierPathWithArcCenter:center radius:(rect.size.width  - 线宽)/2 startAngle:-0.5 *M_PI endAngle:0.5 *M_PI clockwise:YES];</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/-Swift之集合类型-(Collection-Types)（集合篇）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/-Swift之集合类型-(Collection-Types)（集合篇）/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: Swift之集合类型-（Collection-Types)(集合篇）<br> date: 2017-12-28 20:19:35</p>
<h2 id="tags"><a href="#tags" class="headerlink" title=" tags:"></a> tags:</h2><blockquote>
<p>集合(Sets)</p>
</blockquote>
<p> 集合(Set)用来存储相同类型并且没有确定顺序的值。当 合元素顺序不重要时或者希望确保每个元素只出现一次 时可以使用 合而不是数组。<br><code>注意:Swift的 Set 类型被桥接到 Foundation 中的 NSSet 类。</code></p>
<p> 集合类型的哈希值<br>一个类型为了存储在 集合中，该类型必须是可哈希化的–也就是说，该类型必须提供一个方法来计算它的哈希 值。一个哈希值是 <code>Int</code> 类型的，相等的对象哈希值必须相同，比如 <code>a==b</code>,因此必须 <code>a.hashValue == b.hashValu e</code>。</p>
<p><code>Swift</code>的所有基本类型(比如 <code>String</code>,<code>Int</code> , <code>Double</code> 和 <code>Bool</code>)默认都是可哈希化的，可以作为 合的值的类型或 者字典的键的类型。没有关联值的枚举成员值(在枚举有讲述)默认也是可哈希化的。</p>
<p><strong>合类型语法</strong></p>
<p><code>Swift</code> 中的 <code>Set</code> 类型被写为<code>Set&lt;Element&gt;</code> ，这里的 <code>Element</code> 表示 <code>Set</code>中允许存储的类型，和数组不同的是，  合没有等价的简化形式。</p>
<p><strong>创建和构造一个空的 集合</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var letters = Set&lt;Character&gt;()</div><div class="line">print(&quot;letters is of type Set&lt;Character&gt; with \(letters.count) items.&quot;) // 打印 &quot;letters is of type Set&lt;Character&gt; with 0 items.&quot;</div></pre></td></tr></table></figure>
<p><code>注意:通过构造器，这里的 letters 变量的类型被推断为 Set&lt;Character&gt; 。</code></p>
<p>此外，如果上下文提供了类型信息，比如作为函数的参数或者已知类型的变量或常量，我们可以通过一个空的数 组字面量创建一个空的 <code>Set</code> :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">letters.insert(&quot;a&quot;)</div><div class="line">// letters 现在含有1个 Character 类型的值</div><div class="line">letters = []</div><div class="line">// letters 现在是一个空的 Set, 但是它依然是 Set&lt;Character&gt; 类型</div></pre></td></tr></table></figure>
<p><strong>用数组字面量创建集合</strong></p>
<p>你可以使用数组字面量来构造 合，并且可以使用简化形式写一个或者多个值作为 合元素。<br>下面的例子创建一个称之为<code>favoriteGenres</code> 的 合来存储 <code>String</code>类型的值:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var favoriteGenres: Set&lt;String&gt; = [&quot;Rock&quot;, &quot;Classical&quot;, &quot;Hip hop&quot;] </div><div class="line">// favoriteGenres 被构造成含有三个初始值的 集合</div></pre></td></tr></table></figure></p>
<p>这个<code>favoriteGenres</code>变量被声明为“一个 <code>String</code>值的 合”，写为 <code>Set&lt;String&gt;</code>。由于这个特定的 合含有指 定 <code>String</code> 类型的值，所以它只允许存储 <code>String</code>类型值。这里的 <code>favoriteGenres</code>变量有三个 String 类型的初始 值(<code>&quot;Rock&quot;</code> ，<code>&quot;Classical&quot;</code> 和 <code>&quot;Hip hop&quot;</code> )，并以数组字面量的方式出现。</p>
<p><code>注意:
favoriteGenres 被声明为一个变量(拥有 var 标示符)而不是一个常量(拥有 let 标示符),因为它里面的元素将 会在下面的例子中被增加或者移除。</code></p>
<p>一个 <code>Set</code> 类型不能从数组字面量中被单独推断出来，因此<code>Set</code> 类型必须显式声明。然而，由于 <code>Swift</code> 的类型推 断功能，如果你想使用一个数组字面量构造一个<code>Set</code> 并且该数组字面量中的所有元素类型相同，那么你无须写出<br><code>Set</code> 的具体类型。 <code>favoriteGenres</code> 的构造形式可以采用简化的方式代替:</p>
<p><code>var favoriteGenres: Set = [&quot;Rock&quot;, &quot;Classical&quot;, &quot;Hip hop&quot;]</code></p>
<p>由于数组字面量中的所有元素类型相同，<code>Swift</code>可以推断出 <code>Set&lt;String&gt;</code> 作为 <code>favoriteGenres</code>变量的正确类型。</p>
<p><strong>访问和修改一个集合</strong><br>你可以通过 <code>Set</code> 的属性和方法来访问和修改一个 <code>Set</code> 。</p>
<p>为了找出一个<code>Set</code> 中元素的数量，可以使用其只读属性<code>count</code> :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(&quot;I have \(favoriteGenres.count) favorite music genres.&quot;) // 打印 &quot;I have 3 favorite music genres.</div></pre></td></tr></table></figure>
<p>使用布尔属性 <code>isEmpty</code>作为一个缩写形式去检查 <code>count</code>属性是否为 <code>0</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> if favoriteGenres.isEmpty &#123;</div><div class="line">     print(&quot;As far as music goes, I&apos;m not picky.&quot;)</div><div class="line"> &#125; else &#123;</div><div class="line">     print(&quot;I have particular music preferences.&quot;)</div><div class="line">&#125;</div><div class="line">// 打印 &quot;I have particular music preferences.&quot;</div></pre></td></tr></table></figure>
<p>你可以通过调用 <code>Set</code> 的 <code>insert(_:)</code>方法来添加一个新元素:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">favoriteGenres.insert(&quot;Jazz&quot;)</div><div class="line">// favoriteGenres 现在包含4个元素</div></pre></td></tr></table></figure></p>
<p>你可以通过调用 <code>Set</code> 的 <code>remove(_:)</code>方法去删除一个元素，如果该值是该 <code>Set</code>的一个元素则删除该元素并且返回 被删除的元素值，否则如果该<code>Set</code> 不包含该值，则返回 <code>nil</code> 。另外， <code>Set</code> 中的所有元素可以通过它的<code>removeAl l()</code>方法删除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> if let removedGenre = favoriteGenres.remove(&quot;Rock&quot;) &#123;</div><div class="line">     print(&quot;\(removedGenre)? I&apos;m over it.&quot;)</div><div class="line"> &#125; else &#123;</div><div class="line">     print(&quot;I never much cared for that.&quot;)</div><div class="line">&#125;</div><div class="line">// 打印 &quot;Rock? I&apos;m over it.&quot;</div></pre></td></tr></table></figure>
<p>使用<code>contains(_:)</code> 方法去检查<code>Set</code> 中是否包含一个特定的值:</p>
<p><strong>遍历一个集合</strong></p>
<p>你可以在一个<code>for-in</code>循环中遍历一个 <code>Set</code>中的所有值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for genre in favoriteGenres &#123;</div><div class="line">    print(&quot;\(genre)&quot;)</div><div class="line">&#125;</div><div class="line">// Classical</div><div class="line">// Jazz</div><div class="line">// Hip hop</div></pre></td></tr></table></figure>
<p><code>Swift</code>的 <code>Set</code>类型没有确定的顺序，为了按照特定顺序来遍历一个 <code>Set</code> 中的值可以使用 <code>sorted()</code> 方法，它将返<br>回一个有序数组，这个数组的元素排列顺序由操作符<code>&#39;&lt;&#39;</code>对元素进行比较的结果来确定.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for genre in favoriteGenres.sorted() &#123;</div><div class="line">    print(&quot;(genre)&quot;)</div><div class="line">&#125;</div><div class="line">// prints &quot;Classical&quot;</div><div class="line">// prints &quot;Hip hop&quot;</div><div class="line">// prints &quot;Jazz</div></pre></td></tr></table></figure>
<blockquote>
<p>集合操作</p>
</blockquote>
<p>你可以高效地完成 Set 的一些基本操作，比如把两个 集合组合到一起，判断两个 合共有元素，或者判断两个  集合是否全包含，部分包含或者不相交。</p>
<p><strong>基本集合操作</strong><br>• 使用 intersection(<em>:) 方法根据两个 合中都包含的值创建的一个新的 集合。<br>• 使用 symmetricDifference(</em>:) 方法根据在一个 集合中但不在两个 合中的值创建一个新的 集合。 • 使用 union(<em>:) 方法根据两个集合的值创建一个新的集 合。<br>• 使用 subtracting(</em>:) 方法根据不在该 合中的值创建一个新的 集合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">let oddDigits: Set = [1, 3, 5, 7, 9]</div><div class="line">let evenDigits: Set = [0, 2, 4, 6, 8]</div><div class="line">let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]</div><div class="line">oddDigits.union(evenDigits).sort()</div><div class="line">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</div><div class="line">oddDigits. intersection(evenDigits).sorted()</div><div class="line">// []</div><div class="line">oddDigits.subtracting(singleDigitPrimeNumbers).sorted()</div><div class="line">// [1, 9]  以 singleDigitPrimeNumbers集合为标准，取出oddDigits集合中不在singleDigitPrimeNumbers的值</div><div class="line">oddDigits. symmetricDifference(singleDigitPrimeNumbers).sorted()</div><div class="line">// [1, 2, 9] 取出两个集合的并集去掉交集的集合</div></pre></td></tr></table></figure>
<p><strong>集合成员关系和相等</strong></p>
<p>• 使用“是否相等”运算符( == )来判断两个 集合是否包含全部相同的值。<br>• 使用 isSubset(of:) 方法来判断一个集 合中的值是否也被包含在另外一个 合中。<br>• 使用 isSuperset(of:) 方法来判断一个 集合中包含另一个集合中所有的值。<br>• 使用 isStrictSubset(of:) 或者 isStrictSuperset(of:) 方法来判断一个 合是否是另外一个集 合的子集 合或 者父集 合并且两个集 合并不相等。<br>• 使用 isDisjoint(with:) 方法来判断两个集 合是否不含有相同的值(是否没有交集)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">let houseAnimals: Set = [&quot;?&quot;, &quot;?&quot;]</div><div class="line">let farmAnimals: Set = [&quot;?&quot;, &quot;?&quot;, &quot;?&quot;, &quot;?&quot;, &quot;?&quot;]</div><div class="line">let cityAnimals: Set = [&quot;?&quot;, &quot;?&quot;]</div><div class="line">houseAnimals.isSubset(of: farmAnimals)</div><div class="line">// true</div><div class="line">farmAnimals.isSuperset(of: houseAnimals)</div><div class="line">// true</div><div class="line">farmAnimals.isDisjoint(with: cityAnimals)</div><div class="line">// true</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/iOS应用跳转到appstore评分，首页/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/iOS应用跳转到appstore评分，首页/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#####传入第一次在itunesconnect创建应用时创建的appID</p>
<p>评分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=%@&amp;pageNumber=0&amp;sortOrdering=2&amp;mt=8&quot;, @&quot;&quot;]; </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:str2]];</div></pre></td></tr></table></figure></p>
<p>跳转到首页<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSString *str2 = [NSString stringWithFormat: @&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=%@&quot;,  @&quot;&quot;];</div><div class="line"></div><div class="line">  [[UIApplication sharedApplication] openURL:[NSURL URLWithString:str2]];</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/ios--版本比较/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/ios--版本比较/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">#define currentVersion  [[NSBundle mainBundle] objectForInfoDictionaryKey:@&quot;CFBundleShortVersionString&quot;]</div><div class="line"></div><div class="line">#pragma mark--判断版本号是不是大于本地版本</div><div class="line">-(BOOL)compareVesionWithServerVersion:(NSString *)version&#123;</div><div class="line">    NSArray *versionArray = [version componentsSeparatedByString:@&quot;.&quot;];//服务器返回版</div><div class="line">    NSArray *currentVesionArray = [currentVersion componentsSeparatedByString:@&quot;.&quot;];//当前版本</div><div class="line">    NSInteger a = (versionArray.count&gt; currentVesionArray.count)?currentVesionArray.count : versionArray.count;</div><div class="line">    </div><div class="line">    if ([version isEqualToString:currentVersion]) &#123;</div><div class="line">        return NO;</div><div class="line">    &#125;</div><div class="line">    for (int i = 0; i&lt; a; i++) &#123;</div><div class="line">        NSInteger a = [[versionArray objectAtIndex:i] integerValue];</div><div class="line">        NSInteger b = [[currentVesionArray objectAtIndex:i] integerValue];</div><div class="line">        if (a &gt; b) &#123;</div><div class="line">            //            NSLog(@&quot;有新版本&quot;);</div><div class="line">            return YES;</div><div class="line">        &#125;else if(a &lt; b)&#123;</div><div class="line">            return NO;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    if (versionArray.count &gt; currentVesionArray.count) &#123;</div><div class="line">        return YES;</div><div class="line">    &#125;</div><div class="line">    if (versionArray.count &lt; currentVesionArray.count ) &#123;</div><div class="line">        return NO;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return NO;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/pofile-格式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/pofile-格式/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">source &apos;https://github.com/CocoaPods/Specs.git&apos;</div><div class="line"></div><div class="line">platform :ios, ‘8.0’  //冒号与iOS 之间不允许有空格 制定平台</div><div class="line">inhibit_all_warnings! //屏蔽 CocoaPods 库里面的所有警告</div><div class="line"></div><div class="line">xcodeproj ‘TestDemo.xcodeproj’ //制定xcodeproj</div><div class="line"></div><div class="line">target  ‘TestDemo’ do     //制定target</div><div class="line">  pod ‘AFNetworking’</div><div class="line">end</div></pre></td></tr></table></figure>
<p>vim 使用<br>使用 VIM 编辑器编写</p>
<p>$vim podfile 创建 Podfile 文件并使用 VIM 编写</p>
<p>执行命令之后默认是编辑模式，用键盘输入 i，进入输入模式，输入 pod 信息，完成之后按 Esc 键，退出输入模式进入编辑模式，然后再输入 : 号，进入末行模式，在 : 号后边输入 wq 保存退出 Podfile 文件，回到终端，继续进行下一步。</p>
<p>VIM 介绍</p>
<p>VIM 是一个类似于 VI 的著名的功能强大、高度可定制的文本编辑器。</p>
<p>VI：Visual Interface，可视化接口。</p>
<p>VIM：VI iMproved，VI 增强版全屏编辑器，又叫模式化编辑器。</p>
<p>VIM 有 3 种模式：</p>
<pre><code>编辑模式（命令模式）（默认模式）
输入模式
末行模式
</code></pre><p>VIM 3 种模式间的转换：</p>
<pre><code>编辑 –&gt; 输入：

i：在当前光标所在字符的前面，转换为输入模式
I：在当前光标所在行的行首，转换为输入模式
a：在当前光标所在字符的后面，转换为输入模式
A：在当前光标所在行的行尾，转换为输入模式
o：在当前光标所在行的下方，新建一行，转换为输入模式
O：在当前光标所在行的上方，新建一行，转换为输入模式

输入 –&gt; 编辑：

Esc

编辑 –&gt; 末行：

:

末行 –&gt; 编辑：

Esc + ，或者按两次 Esc

输入模式和末行模式之间不能直接切换
</code></pre><p>使用 VIM 打开文件：</p>
<pre><code>$vim 文件名 +# 打开文件，并定位于第 # 行

$vim 文件名 +: 打开文件，并定位于最后一行
</code></pre><p>使用 VIM 关闭文件：</p>
<pre><code>末行模式下关闭文件

:w –&gt; 保存
:w! –&gt; 强行保存
:q –&gt; 退出
:q! –&gt; 不保存并退出
:wq –&gt; 保存并退出
:x –&gt; 保存并退出

编辑模式下关闭文件

ZZ –&gt; 保存并退出
</code></pre><p>最后推荐一篇安装cocoapods 最详细的步骤：<a href="http://blog.csdn.net/u013396370/article/details/53939280" target="_blank" rel="noopener">Cocoapods最详细安装步骤</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/iOS-利用CoreGraphics绘制一个卸货的状态进度/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/iOS-利用CoreGraphics绘制一个卸货的状态进度/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>效果图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1694376-8c0c06ce4958a121.gif?imageMogr2/auto-orient/strip" alt="卸货流程图.gif"></p>
<p>接触了一点CoreGraphics，项目中的卸货状态图，不想用view，就画一个 ，做个记录。</p>
<p>调用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">#import &quot;ViewController.h&quot;</div><div class="line">#import &quot;FTProgressView.h&quot;</div><div class="line"></div><div class="line">#define Device_Height [[UIScreen mainScreen] bounds].size.height</div><div class="line">#define Device_Width  [[UIScreen mainScreen] bounds].size.width//获取屏幕宽高</div><div class="line">@interface ViewController ()</div><div class="line">@property(nonatomic,strong)FTProgressView *progressView;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    // Do any additional setup after loading the view, typically from a nib.</div><div class="line">    self.progressView =[[FTProgressView alloc]initWithFrame:CGRectMake(0, 100, Device_Width, 62) titleArray:@[@&quot;已接单&quot;,@&quot;已装货&quot;,@&quot;运输中&quot;,@&quot;已卸货&quot;,@&quot;已完成&quot;]];</div><div class="line">    self.progressView.backgroundColor =[UIColor whiteColor];</div><div class="line">    [self.view addSubview:self.progressView];</div><div class="line">    </div><div class="line">    self.progressView.index = 2;</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event&#123;</div><div class="line">    self.progressView.index = arc4random()%5;</div><div class="line">    NSLog(@&quot;%ld&quot;,self.progressView.index);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#####实现：</div><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line"></div><div class="line">@interface FTProgressView : UIView</div><div class="line">@property(nonatomic,assign)NSInteger index; //确定哪个状态</div><div class="line">-(instancetype)initWithFrame:(CGRect)frame titleArray:(NSArray *)titleArray;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#import &quot;FTProgressView.h&quot;</div><div class="line">#import &quot;UIColor+Expanded.h&quot;</div><div class="line">#define leftSpace 25</div><div class="line">#define lineH 4</div><div class="line">#define smallH 15</div><div class="line">#define smallneiH 13</div><div class="line">#define bigH 20</div><div class="line">#define CGRect(f)  CGRectMake(leftSpace- f/2 + i * avaWidth, (height -f)/2, f, f)</div><div class="line"></div><div class="line">@interface FTProgressView()</div><div class="line">@property(nonatomic,assign)NSInteger statusNum;</div><div class="line">@property(nonatomic,strong)NSArray *titleArray;</div><div class="line">@property(nonatomic,strong)UIColor *color1;</div><div class="line">@property(nonatomic,strong)UIColor *color2;</div><div class="line"></div><div class="line">@end</div><div class="line">@implementation FTProgressView</div><div class="line"></div><div class="line">-(instancetype)initWithFrame:(CGRect)frame titleArray:(NSArray *)titleArray&#123;</div><div class="line">    self = [super initWithFrame:frame];</div><div class="line">    if (self) &#123;</div><div class="line">        self.titleArray = titleArray;</div><div class="line">    &#125;</div><div class="line">    return self;</div><div class="line">&#125;</div><div class="line">-(void)setIndex:(NSInteger)index&#123;</div><div class="line">    _index = index;</div><div class="line">    [self setNeedsDisplay];</div><div class="line">&#125;</div><div class="line">- (void)drawRect:(CGRect)rect &#123;</div><div class="line">    CGFloat height = rect.size.height;</div><div class="line">    CGFloat width = rect.size.width;</div><div class="line"></div><div class="line">    CGContextRef context = UIGraphicsGetCurrentContext();</div><div class="line">    </div><div class="line">    CGContextSetFillColorWithColor(context, self.color1.CGColor);</div><div class="line">    </div><div class="line">    </div><div class="line">    CGContextFillRect(context, CGRectMake(leftSpace, (height - lineH)/2, width-2 *leftSpace , lineH));</div><div class="line">    [self drawCircle];</div><div class="line">    </div><div class="line">    [self drawLabel];</div><div class="line">&#125;</div><div class="line">-(void)drawCircle</div><div class="line">&#123;</div><div class="line">    CGFloat height = self.frame.size.height;</div><div class="line">    CGFloat width = self.frame.size.width;</div><div class="line"> </div><div class="line">    CGFloat circleWidth = width - 2* leftSpace;</div><div class="line">    CGFloat avaWidth = circleWidth /(self.titleArray.count -1);</div><div class="line"></div><div class="line">    for (int i =0; i&lt; self.titleArray.count; i++) &#123;</div><div class="line">        </div><div class="line">        if (i == self.index) &#123;</div><div class="line"></div><div class="line">            [self FillPathWithRect:CGRect(bigH) fillColor:self.color1]; //绘制大圆</div><div class="line">        &#125;else&#123;</div><div class="line"></div><div class="line">            [self FillPathWithRect:CGRect(smallH) fillColor:self.color1];</div><div class="line">            [self FillPathWithRect:CGRect(smallneiH) fillColor:self.color2];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line">-(void)FillPathWithRect:(CGRect) rect fillColor:(UIColor *)fillColor&#123;</div><div class="line">    </div><div class="line">    CGContextRef context = UIGraphicsGetCurrentContext();</div><div class="line"></div><div class="line">    </div><div class="line">    CGContextSetFillColorWithColor(context, fillColor.CGColor);</div><div class="line">    </div><div class="line">    </div><div class="line">    CGContextAddEllipseInRect(context, rect);</div><div class="line">    </div><div class="line">    CGContextFillPath(context);</div><div class="line">    </div><div class="line">    </div><div class="line">&#125;</div><div class="line">-(void)drawLabel</div><div class="line">&#123;</div><div class="line">    </div><div class="line">    CGFloat height = self.frame.size.height;</div><div class="line">    CGFloat width = self.frame.size.width;</div><div class="line">    </div><div class="line">     CGFloat circleWidth = width - 2* leftSpace;</div><div class="line">    </div><div class="line">    CGFloat avaWidth = circleWidth /(self.titleArray.count -1);</div><div class="line">    </div><div class="line">    for (int i = 0; i&lt;self.titleArray.count; i++) &#123;</div><div class="line">        </div><div class="line">        NSAttributedString *attStr =[[NSAttributedString alloc]initWithString:self.titleArray[i] attributes:@&#123;NSFontAttributeName:[UIFont systemFontOfSize:12],NSForegroundColorAttributeName:[UIColor hexStringToColor:@&quot;3c3c3c&quot;]&#125;];</div><div class="line">        </div><div class="line">        if (i &lt; self.index) &#123;</div><div class="line">            CGPoint point = CGPointMake(leftSpace +avaWidth *i-attStr.size.width/2, height/2 -bigH/2-1 -attStr.size.height);</div><div class="line">            [attStr drawAtPoint:point];</div><div class="line">        &#125;else&#123;</div><div class="line">            CGPoint point = CGPointMake(leftSpace +avaWidth *i-attStr.size.width/2, height/2 +bigH/2+1);</div><div class="line">            [attStr drawAtPoint:point];</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(UIColor *)color1&#123;</div><div class="line">    if (!_color1) &#123;</div><div class="line">        _color1 =[UIColor hexStringToColor:@&quot;393d63&quot;];</div><div class="line">    &#125;</div><div class="line">    return _color1;</div><div class="line">&#125;</div><div class="line">-(UIColor *)color2&#123;</div><div class="line">    if (!_color2) &#123;</div><div class="line">        _color2 =[UIColor hexStringToColor:@&quot;ffffff&quot;];</div><div class="line">    &#125;</div><div class="line">    return _color2;</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>demo地址：<a href="https://github.com/liuxinixn/LXOrderStatusView" target="_blank" rel="noopener">卸货流程进度</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/Swift之基本运算符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/Swift之基本运算符/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:13+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Swift 的运算符和C以及OC的运算符相比并没有太大的变化，但是有很好的补充。</p>
<blockquote>
<p>赋值运算符(因为元组的使用更加丰富),注意区别</p>
</blockquote>
<p>赋值运算符( <code>a = b</code>)，表示用<code>b</code> 的值来初始化或更新<code>a</code> 的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let b = 10</div><div class="line">var a = 5</div><div class="line">a= b</div><div class="line">// a 现在等于 10</div></pre></td></tr></table></figure></p>
<p>如果赋值的右边是一个多元组，它的元素可以马上被分解成多个常量或变量:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let (x, y) = (1, 2)</div><div class="line">// 现在 x 等于 1，y 等于 2</div></pre></td></tr></table></figure></p>
<p>与 <code>C</code>语言和 <code>Objective-C</code> 不同，<code>Swift</code>的赋值操作并不返回任何值。所以以下代码是错误的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if x = y &#123;</div><div class="line">// 此句错误, 因为 x = y 并不返回任何值</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>这个特性使你无法把(</code> == <code>)错写成(</code> =<code>)，由于</code>if x = y<code>是错误代码，</code>Swift<code>能帮你避免此类错误发生。</code></p>
<blockquote>
<p>算术运算符 求余运算符  组合赋值运算符 三目运算符(没有太多变化)</p>
</blockquote>
<p>• 加法(+)<br>• 减法(-)<br>• 乘法(*)<br>• 除法(/)<br> 求余运算符( <code>a</code>% <code>b</code> )是计算 <code>b</code>的多少倍刚刚好可以容入<code>a</code>，返回多出来的那部分(余数)。</p>
<p>组合赋值运算符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var a = 1</div><div class="line">a += 2</div><div class="line">// a 现在是 3</div></pre></td></tr></table></figure></p>
<p>三目运算符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let contentHeight = 40</div><div class="line">let hasHeader = true</div><div class="line">let rowHeight = contentHeight + (hasHeader ? 50 : 20) // rowHeight 现在是 90</div></pre></td></tr></table></figure></p>
<blockquote>
<p>一元负号运算符  一元正号运算符</p>
</blockquote>
<p>数值的正负号可以使用前缀 - (即一元负号符)来切换<br>一元负号符( <code>-</code> )写在操作数之前，中间没有空格。<br>一元正号符( + )不做任何改变地返回操作数的值</p>
<blockquote>
<p>比较运算符(Comparison Operators)</p>
</blockquote>
<p>• 等于( a == b )<br>• 不等于( a != b )<br>• 大于( a &gt; b )<br>• 小于( a &lt; b )<br>• 大于等于( a &gt;= b )<br>• 小于等于( a &lt;= b )</p>
<p><code>每个比较运算都返回了一个标识表达式是否成立的布尔值</code></p>
<p>当元组中的值可以比较时，你也可以使用这些运算符来比较它们的大小。例如，因为 <code>Int</code>和<code>String</code> 类型的值 可以比较，所以类型为 (<code>Int, String</code>) 的元组也可以被比较。相反，<code>Bool</code>不能被比较，也意味着存有布尔类 型的元组不能被比较。<br>比较元组大小会按照从左到右、逐值比较的方式，直到发现有两个值不等时停止。如果所有的值都相等，那么这一对元组我们就称它们是相等的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">注意:</div><div class="line">Swift 标准库只能比较七个以内元素的元组比较函数。</div><div class="line">如果你的元组元素超过七个时，你需要自己实现比较运算 符</div></pre></td></tr></table></figure>
<blockquote>
<p>空合运算符 (Nil Coalescing Operator) 是Swift对运算符的一个很好的扩展</p>
</blockquote>
<p>合运算符( <code>a ?? b</code> )将对可选类型 a 进行空判断，如果 <code>a</code> 包含一个值就进行解封，否则就返回一个默认<br>值<code>b</code> 。表达式 <code>a</code>必须是 <code>Optional</code>类型。默认值 <code>b</code> 的类型必须要和<code>a</code> 存储值的类型保持一致。<br>空合运算符是对以下代码的简短表达方法:</p>
<p><code>a != nil ? a! : b</code><br>上述代码使用了三目运算符。当可选类型 <code>a</code> 的值不为空时，进行强制解封(<code>a!</code>)，访问 a 中的值;反之返 回默认值 <code>b</code>。无疑空合运算符( <code>??</code> )提供了一种更为优 的方式去封装条件判断和解封两种行为，显得简洁以 及更具可读性。<br><code>注意: 如果</code>a <code>为非空值(</code> non-nil<code>)，那么值</code>b <code>将不会被计算。这也就是所谓的短路求值。</code></p>
<p>使用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let defaultColorName = &quot;red&quot;</div><div class="line">var userDefinedColorName: String? //默认值为 nil</div><div class="line">var colorNameToUse = userDefinedColorName ?? defaultColorName</div><div class="line">// userDefinedColorName 的值为空，所以 colorNameToUse 的值为 &quot;red&quot;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>区间运算符(Range Operators)</p>
</blockquote>
<p>Swift 提供了两个方便表达一个区间的值的区间运算符。</p>
<p><strong>闭区间运算符</strong><br>闭区间运算符(<code>a...b</code>)定义一个包含从 到 (a包括 和b )的所有值的区间。a 的值不能超过 b。 ? 闭区间运算符在迭代一个区间的所有值时是非常有用的，如在 for-in   循环中:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for index in 1...5 &#123;</div><div class="line">    print(&quot;\(index) * 5 = \(index * 5)&quot;)</div><div class="line">&#125;</div><div class="line">// 1 * 5 = 5</div><div class="line">// 2 * 5 = 10</div><div class="line">// 3 * 5 = 15</div><div class="line">// 4 * 5 = 20</div><div class="line">// 5 * 5 = 25</div></pre></td></tr></table></figure>
<p><strong>半开区间运算符(多用于数组遍历)</strong></p>
<p>半开区间运算符(  <code>a..&lt;b</code> )定义一个从<code>a到b</code>但不包括b的区间。之所以称为半开区间，是应为改区间 包含第一个值而不包括最后的值。<br>半开区间的实用性在于当你使用一个从 <code>0</code> 开始的列表(如数组)时，非常方便地从<code>0</code>数到列表的长度。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> let names = [&quot;Anna&quot;, &quot;Alex&quot;, &quot;Brian&quot;, &quot;Jack&quot;]</div><div class="line"> let count = names.count</div><div class="line"> for i in 0..&lt;count &#123;</div><div class="line">print(&quot;第 \(i + 1) 个人叫 \(names[i])&quot;) &#125;</div><div class="line">// 第 1 个人叫 Anna </div><div class="line">// 第 2 个人叫 Alex </div><div class="line">// 第 3 个人叫 Brian </div><div class="line">// 第 4 个人叫 Jack</div></pre></td></tr></table></figure></p>
<blockquote>
<p>逻辑运算符(Logical Operators)</p>
</blockquote>
<p><code>逻辑运算符的操作对象是逻辑布尔值。Swift 支持基于 C 语言的三个标准逻辑运算。</code><br>•逻辑非( )<br>• 逻辑与( )<br>• 逻辑或( )</p>
<p>逻辑运算符组合计算</p>
<p>我们可以组合多个逻辑运算符来表达一个复合逻辑:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> if enteredDoorCode &amp;&amp; passedRetinaScan || hasDoorKey || knowsOverridePassword &#123;</div><div class="line">     print(&quot;Welcome!&quot;)</div><div class="line"> &#125; else &#123;</div><div class="line">     print(&quot;ACCESS DENIED&quot;)</div><div class="line">&#125;</div><div class="line">// 输出 &quot;Welcome!&quot;</div></pre></td></tr></table></figure></p>
<p>这个例子使用了含多个 <code>&amp;&amp;</code>和<code>||</code>的复合逻辑。但无论怎样， <code>&amp;&amp;</code> 和<code>||</code> 始终只能操作两个值。</p>
<p><code>注意: Swift 逻辑操作符 &amp;&amp; 和 || 是左结合的，这意味着拥有多元逻辑操作符的复合表达式优先计算最左 边的子表达式。</code><br><code>使用括号来明确优先级</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/ios--热词或历史记录的封装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/ios--热词或历史记录的封装/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:12+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>对于项目中热词以及历史记录的需求做个封装,可动态添加设置标签，配置好需要配置的参数即可。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1694376-8e199869270e76ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="热词.png"></p>
<p>设置以及初始化方法如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">@interface LXTagsView : UIView</div><div class="line"></div><div class="line">typedef void(^itemClickBlock) (NSInteger index);</div><div class="line">-(instancetype)initWithFrame:(CGRect)frame ItemClick:(itemClickBlock)click;</div><div class="line"></div><div class="line">@property(nonatomic,strong)UIFont *btnFont;//先赋值；</div><div class="line">@property(nonatomic,assign)CGFloat tagInsetSpace;//标签内间距 (左右各间距)</div><div class="line">@property(nonatomic,assign)CGFloat tagsLineSpace;//标签行间距</div><div class="line">@property(nonatomic,assign)CGFloat tagsMargin;//标签之间的间距</div><div class="line">@property(nonatomic,assign)CGFloat tagSpace;// 整体左右边距</div><div class="line"></div><div class="line">@property(nonatomic,strong)NSArray *tagsArray; // 文字标签数组</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">@property(nonatomic,assign)CGFloat totalH; //返回总高度</div></pre></td></tr></table></figure></p>
<p>使用方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">LXWS(weakSelf);</div><div class="line">    self.tagsView  =[[LXTagsView alloc]initWithFrame:CGRectMake(0, 100, 300, 40) ItemClick:^(NSInteger index) &#123;</div><div class="line">        NSLog(@&quot;%ld&quot;,index);</div><div class="line">        UIViewController *vc =[[UIViewController alloc]init];</div><div class="line">        vc.view.backgroundColor = LXRandomColor;</div><div class="line">        [weakSelf.navigationController pushViewController:vc animated:YES];</div><div class="line">        </div><div class="line">    &#125;];</div><div class="line">    self.tagsView.btnFont =[UIFont systemFontOfSize:16];</div><div class="line">    self.tagsView.tagSpace = 10;</div><div class="line">    self.tagsView.tagsMargin = 5;</div><div class="line">    self.tagsView.tagInsetSpace = 15;</div><div class="line">    self.tagsView.tagsLineSpace =10;</div><div class="line">    self.tagsView.tagsArray = @[@&quot;无知安徽噶人噶人家噶加热机噶进入国阿嘎热噶人噶热狗如果&quot;,@&quot;风云变幻&quot;,@&quot;施耐庵&quot;,@&quot;唉&quot;,@&quot;西门吹雪&quot;,@&quot;呵呵哒你没打答题的啊啊噶而过阿哥人argergaergaergag阿嘎人家居然就噶间距根据&quot;,@&quot;他大舅他二舅都是他就&quot;,@&quot;窿窿啦啦&quot;,@&quot;火麒麟&quot;,@&quot;合欢花&quot;,@&quot;暴走大事件&quot;,@&quot;非诚勿扰&quot;,@&quot;呵呵呵&quot;,@&quot;miss&quot;,@&quot;我爱你&quot;,@&quot;thelife&quot;,@&quot;永生&quot;,@&quot;不忘&quot;,@&quot;你&quot;,@&quot;爱好个人拉人给哈尔和老公哈拉尔挂了会考&quot;,@&quot;爱人噶人更好惹过哈儿噶尔 &quot;,@&quot;爱人杆儿隔热管&quot;,@&quot;爱人跟人&quot;];</div><div class="line">    </div><div class="line">    [self.view addSubview:self.tagsView];</div></pre></td></tr></table></figure>
<p>.m如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div></pre></td><td class="code"><pre><div class="line">#import &quot;LXTagsView.h&quot;</div><div class="line">#import &quot;UIColor+Expanded.h&quot;</div><div class="line">@interface LXTagsView()</div><div class="line">@property(nonatomic,copy)itemClickBlock itemBlock;</div><div class="line">@property(nonatomic,strong)NSMutableArray *tagsFrames;</div><div class="line">@end</div><div class="line">@implementation LXTagsView</div><div class="line"></div><div class="line">-(instancetype)initWithFrame:(CGRect)frame ItemClick:(itemClickBlock)click&#123;</div><div class="line">    self = [super initWithFrame:frame];</div><div class="line">    </div><div class="line">    if (self) &#123;</div><div class="line">        </div><div class="line">        self.itemBlock = click;</div><div class="line">        </div><div class="line">        _tagsLineSpace = 5;</div><div class="line">        _tagsMargin = 10;</div><div class="line">        _tagInsetSpace = 10;</div><div class="line">        _tagSpace = 10;</div><div class="line">         _totalH = 0;</div><div class="line">    &#125;</div><div class="line">    return self;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">-(void)setTagsArray:(NSArray *)tagsArray&#123;</div><div class="line">    </div><div class="line">    _tagsArray  = tagsArray;</div><div class="line">    </div><div class="line">    </div><div class="line">    [self configTagsFrames];</div><div class="line">    </div><div class="line">    [self setupUI];</div><div class="line">    </div><div class="line">&#125;</div><div class="line">#pragma mark--- 设置frame ---</div><div class="line">-(void)configTagsFrames&#123;</div><div class="line">    </div><div class="line">    </div><div class="line">    CGFloat orignHMargin = _tagSpace;// 水平方向左边距</div><div class="line">    CGFloat orignVerMargin = 5;//上边距参考父视图</div><div class="line">    CGFloat btnH = 25;</div><div class="line">    _totalH = 0;</div><div class="line">    </div><div class="line">   </div><div class="line">    [self.tagsFrames removeAllObjects];</div><div class="line">    </div><div class="line">    </div><div class="line">    for (int i = 0; i&lt; _tagsArray.count; i++) &#123;</div><div class="line">        NSString *string = _tagsArray[i];</div><div class="line">        CGFloat btnW = [self stringSizeWithFont:_btnFont string:string height:btnH].width +  2*_tagInsetSpace;</div><div class="line">        //增加个判断，当字符串过长是，超过屏幕总宽度- 两侧间距，重置标签宽度</div><div class="line">        if (btnW + _tagSpace *2 &gt;= KScreenW) &#123;</div><div class="line">            btnW = KScreenW - 2 *_tagSpace;</div><div class="line">        &#125;</div><div class="line">        if ( orignHMargin + btnW + _tagSpace &gt; KScreenW) &#123;</div><div class="line">            orignVerMargin = orignVerMargin + btnH + _tagsLineSpace;</div><div class="line">            orignHMargin = _tagSpace;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        CGRect frame= CGRectMake(orignHMargin, orignVerMargin, btnW, btnH);</div><div class="line">        [self.tagsFrames addObject:NSStringFromCGRect(frame)];</div><div class="line">        </div><div class="line">        //判断是 最后一个标签的时候保存其高度；</div><div class="line">        if (i == _tagsArray.count -1) &#123;</div><div class="line">            _totalH = orignVerMargin + btnH +10;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        orignHMargin = orignHMargin + btnW +_tagsMargin;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    //设置整体高度</div><div class="line">     self.height = _totalH;</div><div class="line"></div><div class="line">&#125;</div><div class="line">#pragma mark---设置UI--</div><div class="line">-(void)setupUI&#123;</div><div class="line">    </div><div class="line">     [self.subviews enumerateObjectsUsingBlock:^(__kindof UIView * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</div><div class="line">         [obj removeFromSuperview];</div><div class="line">     &#125;];</div><div class="line">    </div><div class="line">    </div><div class="line">    for (int i = 0; i&lt; _tagsFrames.count; i++) &#123;</div><div class="line">        CGRect frame = CGRectFromString(_tagsFrames[i]);</div><div class="line">        </div><div class="line">       </div><div class="line">        LxButton *button =[LxButton LXButtonWithTitle:_tagsArray[i] titleFont:_btnFont Image:nil backgroundImage:nil backgroundColor:[UIColor hexStringToColor:@&quot;f5f5f5&quot;] titleColor:[UIColor blackColor] frame:frame];</div><div class="line">        </div><div class="line">        //对于宽度的处理</div><div class="line">        if (frame.size.width == KScreenW - 2 *_tagSpace) &#123;</div><div class="line">            </div><div class="line">            [button setTitleEdgeInsets:UIEdgeInsetsMake(0, _tagInsetSpace, 0, _tagInsetSpace)];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        </div><div class="line">        UIBezierPath *maskPath = [UIBezierPath bezierPathWithRoundedRect:button.bounds byRoundingCorners:UIRectCornerAllCorners cornerRadii:CGSizeMake(frame.size.height/2, frame.size.height/2)];</div><div class="line">        CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];</div><div class="line">        maskLayer.frame = button.bounds;</div><div class="line">        maskLayer.path = maskPath.CGPath;</div><div class="line">        button.layer.mask = maskLayer;</div><div class="line">        button.buttonID = i;</div><div class="line">        </div><div class="line">        [button addTarget:self action:@selector(btnClick:) forControlEvents:UIControlEventTouchUpInside];</div><div class="line">        [self addSubview:button];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)btnClick:(LxButton *)button</div><div class="line">&#123;</div><div class="line">    if (_itemBlock) &#123;</div><div class="line">        _itemBlock(button.buttonID);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">-(void)setBtnFont:(UIFont *)btnFont</div><div class="line">&#123;</div><div class="line">    _btnFont = btnFont;</div><div class="line">&#125;</div><div class="line">-(void)setTagInsetSpace:(CGFloat)tagInsetSpace</div><div class="line">&#123;</div><div class="line">    _tagInsetSpace = tagInsetSpace;</div><div class="line">&#125;</div><div class="line">-(void)setTagsLineSpace:(CGFloat)tagsLineSpace</div><div class="line">&#123;</div><div class="line">    _tagsLineSpace = tagsLineSpace;</div><div class="line">&#125;</div><div class="line">-(void)setTagsMargin:(CGFloat)tagsMargin</div><div class="line">&#123;</div><div class="line">    _tagsMargin = tagsMargin;</div><div class="line">&#125;</div><div class="line">-(void)setTagSpace:(CGFloat)tagSpace</div><div class="line">&#123;</div><div class="line">    _tagSpace = tagSpace;</div><div class="line">&#125;</div><div class="line">-(NSMutableArray *)tagsFrames&#123;</div><div class="line">    if (!_tagsFrames) &#123;</div><div class="line">        _tagsFrames =[NSMutableArray array];</div><div class="line">    &#125;</div><div class="line">    return _tagsFrames;</div><div class="line">&#125;</div><div class="line">#pragma mark---动态高度---</div><div class="line">-(CGSize)stringSizeWithFont:(UIFont *)font string:(NSString *)string height:(CGFloat)height</div><div class="line">&#123;</div><div class="line">    CGRect rect =[string boundingRectWithSize:CGSizeMake(CGFLOAT_MAX, height) options: NSStringDrawingUsesLineFragmentOrigin attributes:@&#123;NSFontAttributeName:font&#125; context:nil];</div><div class="line">    return rect.size;</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1694376-c367920005f3c8bb.gif?imageMogr2/auto-orient/strip" alt="热词.gif"></p>
<p>demo 地址：<a href="https://github.com/liuxinixn/LXHotwords" target="_blank" rel="noopener">热词搜索</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="liuxinixn.github.io/2017/12/28/xib-与代码设置颜色-色差的那些事/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪晟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="雪晟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/xib-与代码设置颜色-色差的那些事/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T20:43:12+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://upload-images.jianshu.io/upload_images/1694376-76425a0c1701e79e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<p>上图 第一个是 代码实现的色值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">UIView *view =[[UIView alloc]initWithFrame:CGRectMake(0, 64, Device_Width, 64)];</div><div class="line">view.backgroundColor = [UIColor hexStringToColor:@&quot;#ff8833&quot;];//</div><div class="line">[self.view addSubview:view];</div></pre></td></tr></table></figure></p>
<p>第二个是xib 或者SB 设置的色值。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1694376-2d505ace825ecf3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.png"></p>
<p>可以看出来，虽然设置的十六进制都一样，可是效果不同，原因是，代码xib 设置的 默认是sRGB显示的 ，要比代码设置的要浅很多，网上昭和很多也没找到。</p>
<p>所以只能利用 系统自带的取色计拾色，选择是sRGB 拾取 xib 设置的颜色即可。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1694376-415434d4085f7fb3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="3.png"></p>
<p>比如 我xib 设置的颜色为ff8833 ，那么拾设计以 sRGB 显示就是255 ，155， 65， 转换为十六进制就是 #FF9B41。</p>
<p>结果是这样的，色值一致：<br><img src="http://upload-images.jianshu.io/upload_images/1694376-30f334a34a4d0f15.gif?imageMogr2/auto-orient/strip" alt="gif.gif"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="http://upload.jianshu.io/users/upload_avatars/1694376/4b7e25bd43ee.jpg"
              alt="雪晟" />
          
            <p class="site-author-name" itemprop="name">雪晟</p>
            <p class="site-description motion-element" itemprop="description">多去尝试你从未尝试的。</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">96</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/liuxinixn" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/3d7c50f31b88" target="_blank" title="Jianshu">
                  
                    <i class="fa fa-fw fa-flag"></i>Jianshu</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">雪晟</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/three/three.min.js"></script>

  
  <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
